# Bio-Agent 项目数据库结构汇总

> 查询时间：2026-01-31

---

## 一、MongoDB（主数据库）

**数据库名**: `biomedical_platform`  
**连接**: `MONGODB_URL` / `MONGODB_DB_NAME`

### 集合概览

| 集合名 | 文档数 |
|--------|--------|
| biomaterials | 39,998 |
| documents | 17,045 |
| knowledge_bases | 2 |
| llm_providers | 1 |
| paper_tags | 17,045 |

---

### 1. biomaterials（生物材料）

| 字段名 | 类型 |
|--------|------|
| name | str |
| category | str |
| subcategory | str |
| paper_ids | array |
| paper_count | int |
| paper_titles | array |
| functional_performance | object |
| biological_impact | object |
| raw_data | object |
| functional_performance.release_kinetics | str |
| functional_performance.release_kinetics_notes | str |
| functional_performance.localization | object |
| functional_performance.localization_notes | str |
| functional_performance.targeting | object |
| functional_performance.targeting_notes | str |
| functional_performance.stimulus_responsiveness | object |
| functional_performance.surface_properties | object |
| biological_impact.cytotoxicity_assay | str |
| biological_impact.cytotoxicity_notes | str |
| biological_impact.biodegradability | object |
| biological_impact.hemocompatibility | object |
| biological_impact.tissue_response | object |
| raw_data.description | str |
| raw_data.material_integrity | object |
| raw_data.viability_support | object |

---

### 2. documents（文献）

| 字段名 | 类型 |
|--------|------|
| id | str |
| paper_id | str |
| title | str |
| authors | str |
| journal | str |
| publish_year | int |
| publishDate | str |
| source | str |
| source_tables | array |
| has_markdown | bool |

---

### 3. knowledge_bases（知识库）

| 字段名 | 类型 |
|--------|------|
| id | str |
| name | str |
| description | str |
| type | str |
| source | str |
| documentCount | int |
| lastSyncAt | datetime |
| status | str |
| icon | str |

---

### 4. llm_providers（LLM 提供商）

| 字段名 | 类型 |
|--------|------|
| id | str |
| name | str |
| baseUrl | str |
| apiKey | str |
| models | array |
| isEnabled | bool |
| createdAt | datetime |

---

### 5. paper_tags（论文标签）

| 字段名 | 类型 |
|--------|------|
| paper_id | str |
| title | str |
| authors | str |
| journal | str |
| year | int |

---

## 二、PostgreSQL（向量/关系库）

**数据库名**: `biomedical`  
**连接**: `POSTGRES_URL`

### 表概览

| 表名 | 说明 |
|------|------|
| papers | 文献表 |
| biological_materials | 生物材料表 |

---

### 1. papers（文献表）

| 列名 | 类型 |
|------|------|
| paper_id | VARCHAR(36) PRIMARY KEY |
| title | TEXT |
| authors | TEXT |
| journal | TEXT |
| year | INTEGER |

---

### 2. biological_materials（生物材料表）

| 列名 | 类型 |
|------|------|
| material_name | VARCHAR(512) PRIMARY KEY |
| associated_papers | JSONB |
| paper_count | INTEGER |
| category | VARCHAR(128) |
| functional_roles | JSONB |
| attributes | JSONB |

---

## 三、SQLite（前端 BioExtract 定义）

> 定义于 `src/features/bioextract/api/sqliteDatabase.ts`，用于前端/离线场景

### 表概览

| 表名 | 数据源 | 说明 |
|------|--------|------|
| delivery_qwen | delivery-qwen.csv | 递送载体特征（82 列） |
| micro_feat | micro_feat.csv | 微生物特征（72 列） |
| paper_tags | tag.csv | 论文标签 |
| polymer_classification | experiment_data_split.xlsx | 高分子分类 |
| experiment_conditions | experiment_data_split.xlsx | ATPS 实验条件 |
| experiment_results | experiment_data_split.xlsx | ATPS 实验结果 |
| extraction_summary | extraction_summary_cleaned.xlsx | 提取摘要 |
| atps_papers | ATPS应用.xlsx | PEGMA 相关论文 |

---

### 1. delivery_qwen（递送载体表，82 列）

**基础信息**: paper_id, system_index, system_name, carrier_type, carrier_response, carrier_components, payload_items  

**B_* 生物相容性**: B1_tissue_tolerance, B1_tissue_tolerance_material, B2_cytocompatibility, B2_cytocompatibility_material, B3_interfacial_behavior, B3_interfacial_behavior_material, B4_immunomodulation, B4_immunomodulation_material, B5_hemocompatibility, B5_hemocompatibility_material, B6_residence_clearance, B6_residence_clearance_material  

**F_* 功能特性**: F1_localization_retention, F1_localization_retention_material, F2_release_kinetics, F2_release_kinetics_material, F3_selective_permeability, F3_selective_permeability_material, F4_stimulus_response, F4_stimulus_response_material, F5_antifouling, F5_antifouling_material, F6_therapeutic_compatibility, F6_therapeutic_compatibility_material, F7_failure_management, F7_failure_management_material  

**I_* 固有属性**: I1_chemical_composition, I2_gelation_modality, I2_gelation_modality_material  

**C_* 微生物相容性**: C1_viability_support, C1_viability_support_material, C2_microbial_compatibility, C2_microbial_compatibility_material, C3_protection_efficacy, C3_protection_efficacy_material  

**P_* 加工特性**: P1_gelation_pathway, P1_gelation_pathway_material, P2_rheology, P2_rheology_material, P3_processing_window, P4_mechanical_stability, P4_mechanical_stability_material, P5_process_route, P6_structural_construction  

**K_* 负载指标**: K_loading_efficiency, K_encapsulation_method  

**M_* 材料界面**: M1_moisture_balance, M1_evidence, M1_related_material, M2_conformability, M2_evidence, M2_related_material, M3_structural_stability, M3_evidence, M3_related_material, M4_mass_transfer, M4_evidence, M4_related_material  

**R_* 修复增益**: R1_inflammation_buffer, R1_evidence, R1_related_material, R2_repair_signal_amplification, R2_evidence, R2_related_material, R3_microenvironment_tuning, R3_evidence, R3_related_material, R4_microbe_compatible, R4_evidence, R4_related_material  

**Token 统计**: prompt_tokens, completion_tokens, total_tokens  

**其他**: error, raw_response  

---

### 2. micro_feat（微生物特征表，72 列）

**基础信息**: paper_id, system_index, system_type, composition, spatial_arrangement  

**C_* 生长特性**: C_oxygen_tolerance, C_growth_conditions, C_growth_kinetics, C_colonization_niche, C_microbiome_interaction, C_stress_tolerance, C_stress_tolerance_material, C_growth_desc  

**G_* 遗传工程**: G_genetic_tools, G_edit_efficiency, G_circuit_control, G_circuit_inducer_material, G_genetic_stability, G_material_coupling, G_engineering_desc  

**S_* 信号感知**: S_physiochemical_signals, S_metabolite_signals, S_microbial_signals, S_host_signals, S_sensing_component_material, S_logic_gate_desc, S_logic_desc  

**E_* 效应功能**: E_primary_functions, E_secretion_mech, E_dosage_control, E_material_match  

**E_A_* 抗菌**: E_A_has_antibacterial, E_A_broad_spectrum, E_A_biofilm_inhib, E_A_mechanism_desc, E_A_agent_material, E_A_crit_*  

**E_B_* 产氧**: E_B_has_oxygenation, E_B_mechanism_desc, E_B_oxygen_material, E_B_crit_*  

**E_C_* 免疫调节**: E_C_has_immunomodulation, E_C_mechanism_desc, E_C_modulator_material  

**E_D_* 组织修复**: E_D_has_repair, E_D_mechanism_desc, E_D_repair_material  

**E_E_* 代谢调节**: E_E_has_metabolic, E_E_mechanism_desc, E_E_metabolite_material  

**E_F_* 肿瘤治疗**: E_F_has_tumor, E_F_mechanism_desc, E_F_agent_material  

**B_* 生物安全**: B_bsl_level, B_biocontainment_strategy, B_containment_material, B_risk_assessment, B_material_barrier, B_risk_desc  

**其他**: healing_efficacy_desc, prompt_tokens, completion_tokens, total_tokens, error, raw_response  

---

### 3. paper_tags（论文标签）

| 列名 | 类型 |
|------|------|
| paper_id | TEXT PRIMARY KEY |
| title | TEXT |
| abstract | TEXT |
| classification | TEXT |
| l1 | TEXT |
| l2 | TEXT |
| l3 | TEXT |
| reasoning | TEXT |

---

### 4. polymer_classification（高分子分类）

| 列名 | 类型 |
|------|------|
| id | INTEGER PRIMARY KEY AUTOINCREMENT |
| 高分子名称 | TEXT |
| 关联论文ID列表 | TEXT |
| 论文数量 | INTEGER |

---

### 5. experiment_conditions（实验条件）

| 列名 | 类型 |
|------|------|
| id | INTEGER PRIMARY KEY AUTOINCREMENT |
| 论文ID | TEXT |
| 是否包含相分离的研究 | TEXT |
| 是否进行物理实验 | TEXT |
| 是否进行数值试验 | TEXT |
| 溶剂体系 | TEXT |
| 溶剂浓度 | TEXT |
| 温度 | TEXT |
| 聚合物体积分数_质量分数 | TEXT |
| 其他参数 | TEXT |

---

### 6. experiment_results（实验结果）

| 列名 | 类型 |
|------|------|
| id | INTEGER PRIMARY KEY AUTOINCREMENT |
| 论文ID | TEXT |
| 什么浓度可以相分离 | TEXT |
| 盐浓度能否促进相分离 | TEXT |
| 多少盐浓度能促进相分离 | TEXT |
| 温度能否促进相分离 | TEXT |
| 什么温度下能相分离 | TEXT |
| 相分离后两相体积分配 | TEXT |
| 相分离后双相中各分子浓度 | TEXT |
| 关键基团驱动力影响 | TEXT |

---

### 7. extraction_summary（提取摘要）

| 列名 | 类型 |
|------|------|
| id | INTEGER PRIMARY KEY AUTOINCREMENT |
| 论文名 | TEXT |
| markdown文件名 | TEXT |
| 化学组成或官能团 | TEXT |
| 物理实验 | TEXT |
| 数值试验 | TEXT |
| 溶剂体系 | TEXT |
| 溶剂浓度 | TEXT |
| 温度 | TEXT |
| 聚合物体积分数_质量分数 | TEXT |
| 其他参数 | TEXT |

---

### 8. atps_papers（ATPS 论文）

| 列名 | 类型 |
|------|------|
| id | INTEGER PRIMARY KEY AUTOINCREMENT |
| 包含PEGMA的论文 | TEXT |

---

## 四、数据库关系说明

| 数据库 | 用途 |
|--------|------|
| **MongoDB** | 主业务数据：文献、生物材料、知识库、LLM 配置、论文标签 |
| **PostgreSQL** | 向量检索、关系型存储（papers、biological_materials） |
| **SQLite** | 前端 BioExtract 模块的离线/本地表结构定义，实际数据由后端 API 提供 |

---

## 五、再次查询方式

- **MongoDB**：`cd Bio-Agent/backend && python scripts/inspect_mongo_schema.py`
- **PostgreSQL**：需连接数据库后执行 `\dt` 和 `\d 表名` 查看
- **SQLite**：表结构定义在 `src/features/bioextract/api/sqliteDatabase.ts` 的 `TABLE_SCHEMAS`
