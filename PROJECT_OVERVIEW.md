# Bio-Agent é¡¹ç›®æ¶æ„ä¸äº§å“æ€»ç»“

> **ç‰ˆæœ¬**: v2.0  
> **æ›´æ–°æ—¶é—´**: 2026-01-31  
> **é¡¹ç›®å®šä½**: ç”Ÿç‰©åŒ»å­¦é¢†åŸŸæ™ºèƒ½ Agent å¹³å°ï¼Œä¸“æ³¨äºç”Ÿç‰©ææ–™ã€è¯ç‰©é€’é€ç³»ç»Ÿå’Œå¾®ç”Ÿç‰©å·¥ç¨‹æ•°æ®çš„æ™ºèƒ½æ£€ç´¢ä¸åˆ†æ

---

## ğŸ“‹ ç›®å½•

1. [äº§å“æ¦‚è¿°](#äº§å“æ¦‚è¿°)
2. [æ ¸å¿ƒä»·å€¼](#æ ¸å¿ƒä»·å€¼)
3. [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
4. [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
5. [æ ¸å¿ƒåŠŸèƒ½æ¨¡å—](#æ ¸å¿ƒåŠŸèƒ½æ¨¡å—)
6. [æ•°æ®æ¶æ„](#æ•°æ®æ¶æ„)
7. [Agent æ™ºèƒ½ä½“ç³»ç»Ÿ](#agent-æ™ºèƒ½ä½“ç³»ç»Ÿ)
8. [éƒ¨ç½²æ¶æ„](#éƒ¨ç½²æ¶æ„)
9. [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
10. [æœªæ¥è§„åˆ’](#æœªæ¥è§„åˆ’)

---

## äº§å“æ¦‚è¿°

### å®šä½
Bio-Agent æ˜¯ä¸€ä¸ªé¢å‘ç”Ÿç‰©åŒ»å­¦ç ”ç©¶äººå‘˜çš„**æ™ºèƒ½çŸ¥è¯†æ£€ç´¢ä¸åˆ†æå¹³å°**ï¼Œé€šè¿‡ AI Agent æŠ€æœ¯å°†æµ·é‡çš„ç”Ÿç‰©ææ–™ã€é€’é€ç³»ç»Ÿã€å¾®ç”Ÿç‰©å·¥ç¨‹æ•°æ®è½¬åŒ–ä¸ºå¯äº¤äº’ã€å¯æŸ¥è¯¢çš„çŸ¥è¯†åº“ã€‚

### æ ¸å¿ƒåœºæ™¯
- **ææ–™ç­›é€‰**: ç ”ç©¶äººå‘˜å¿«é€Ÿæ‰¾åˆ°ç¬¦åˆç‰¹å®šåŠŸèƒ½ï¼ˆå¦‚ä¾›æ°§ã€é¶å‘ã€æ§é‡Šï¼‰çš„ç”Ÿç‰©ææ–™
- **æ–‡çŒ®è°ƒç ”**: ä» 17,000+ ç¯‡æ–‡çŒ®ä¸­æå–å…³é”®ä¿¡æ¯ï¼Œç”Ÿæˆç»“æ„åŒ–æ•°æ®
- **å¾®ç”Ÿç‰©å·¥ç¨‹**: æŸ¥è¯¢å¾®ç”Ÿç‰©çš„ç”Ÿé•¿æ¡ä»¶ã€ä»£è°¢ç‰¹æ€§ã€å®‰å…¨æ€§ç­‰å·¥ç¨‹å‚æ•°
- **å¯¹æ¯”åˆ†æ**: å¤šç§ææ–™/ç³»ç»Ÿçš„æ€§èƒ½å¯¹æ¯”ä¸æ¨è
- **çŸ¥è¯†é—®ç­”**: è‡ªç„¶è¯­è¨€äº¤äº’ï¼Œæ— éœ€å­¦ä¹ å¤æ‚çš„æ•°æ®åº“æŸ¥è¯¢è¯­æ³•

### ç”¨æˆ·ç”»åƒ
- ç”Ÿç‰©ææ–™ç ”ç©¶äººå‘˜
- è¯ç‰©é€’é€ç³»ç»Ÿå¼€å‘è€…
- åˆæˆç”Ÿç‰©å­¦å·¥ç¨‹å¸ˆ
- åŒ»å­¦é™¢ç ”ç©¶ç”Ÿ/åšå£«ç”Ÿ
- ç”Ÿç‰©åŒ»è¯ä¼ä¸š R&D å›¢é˜Ÿ

---

## æ ¸å¿ƒä»·å€¼

### 1. æ•°æ®èšåˆä¸æ ‡å‡†åŒ–
- **79,996 æ¡** BioExtract è®°å½•ï¼ˆé€’é€ç³»ç»Ÿ + å¾®ç”Ÿç‰©ç‰¹å¾ï¼‰
- **17,045 ç¯‡**æ–‡çŒ®çš„ç»“æ„åŒ–æå–
- ç»Ÿä¸€çš„ Schema è®¾è®¡ï¼Œæ”¯æŒè·¨æ•°æ®æºæŸ¥è¯¢

### 2. AI é©±åŠ¨çš„æ™ºèƒ½æ£€ç´¢
- **ReAct æ¨¡å¼** Agentï¼šæ¨ç† â†’ æ‰§è¡Œ â†’ è§‚å¯Ÿ â†’ å›ç­”
- æ”¯æŒè‡ªç„¶è¯­è¨€æŸ¥è¯¢ï¼Œè‡ªåŠ¨è½¬æ¢ä¸º API è°ƒç”¨
- å¤šè½®å¯¹è¯è®°å¿†ï¼Œä¸Šä¸‹æ–‡ç†è§£

### 3. å¤šæ¨¡æ€æ•°æ®æ”¯æŒ
- æ–‡æœ¬ï¼šè®ºæ–‡æ ‡é¢˜ã€æ‘˜è¦ã€å…¨æ–‡ Markdown
- ç»“æ„åŒ–ï¼šææ–™ç»„æˆã€åŠŸèƒ½æ€§èƒ½ã€ç”Ÿç‰©ç›¸å®¹æ€§
- å›¾è°±ï¼šNeo4j çŸ¥è¯†å›¾è°±ï¼ˆææ–™-è®ºæ–‡-ä½œè€…å…³ç³»ï¼‰
- OCRï¼šPDF/å›¾ç‰‡æ–‡æ¡£çš„æ–‡å­—è¯†åˆ«ï¼ˆMinerU é›†æˆï¼‰

### 4. å¯æ‰©å±•çš„å·¥å…·ç”Ÿæ€
- MCP (Model Context Protocol) å·¥å…·æ³¨å†Œæœºåˆ¶
- æ”¯æŒè‡ªå®šä¹‰å·¥å…·ï¼ˆSQLã€OCRã€å›¾è¡¨ç”Ÿæˆç­‰ï¼‰
- æ’ä»¶å¼æ¶æ„ï¼Œæ˜“äºé›†æˆæ–°æ•°æ®æº

---

## ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å‰ç«¯å±‚ (React + TypeScript)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ BioExtract-AIâ”‚  â”‚  çŸ¥è¯†åº“ç®¡ç†  â”‚  â”‚  ä¸“å®¶ç³»ç»Ÿ    â”‚          â”‚
â”‚  â”‚  (Agent å¯¹è¯)â”‚  â”‚ (æ–‡çŒ®/ææ–™)  â”‚  â”‚  (æ¨¡æ¿åº“)    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â†“                  â†“                  â†“                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            Vite Dev Server (ä»£ç† /api/v1 â†’ 8001)         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åç«¯å±‚ (FastAPI + Python)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Knowledge   â”‚  â”‚  BioExtract  â”‚  â”‚    Chat      â”‚          â”‚
â”‚  â”‚     API      â”‚  â”‚     API      â”‚  â”‚     API      â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â†“                  â†“                  â†“                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Service å±‚ (ä¸šåŠ¡é€»è¾‘)                        â”‚   â”‚
â”‚  â”‚  - knowledge_db.py  (æ–‡çŒ®/ææ–™æŸ¥è¯¢)                      â”‚   â”‚
â”‚  â”‚  - bioextract_db.py (é€’é€ç³»ç»Ÿ/å¾®ç”Ÿç‰©)                    â”‚   â”‚
â”‚  â”‚  - llm.py           (LLM è°ƒç”¨å°è£…)                       â”‚   â”‚
â”‚  â”‚  - vector_db.py     (å‘é‡æ£€ç´¢)                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       æ•°æ®å±‚ (å¤šæ•°æ®åº“)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   MongoDB    â”‚  â”‚    Neo4j     â”‚  â”‚  PostgreSQL  â”‚          â”‚
â”‚  â”‚  (æ–‡æ¡£å­˜å‚¨)  â”‚  â”‚  (çŸ¥è¯†å›¾è°±)  â”‚  â”‚  (å…³ç³»æ•°æ®)  â”‚          â”‚
â”‚  â”‚  - biomaterialsâ”‚ â”‚  - ææ–™å…³ç³»  â”‚  â”‚  - papers    â”‚          â”‚
â”‚  â”‚  - documents â”‚  â”‚  - å¼•ç”¨ç½‘ç»œ  â”‚  â”‚  - materials â”‚          â”‚
â”‚  â”‚  - paper_tagsâ”‚  â”‚              â”‚  â”‚              â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åˆ†å±‚èŒè´£

#### å‰ç«¯å±‚
- **UI ç»„ä»¶**: React + TailwindCSSï¼Œå“åº”å¼è®¾è®¡
- **çŠ¶æ€ç®¡ç†**: Zustand (è½»é‡çº§çŠ¶æ€åº“)
- **Agent äº¤äº’**: BioExtractAgent.ts (ReAct å¾ªç¯å®ç°)
- **API å°è£…**: backendAPI.ts, bioextractAPI.ts

#### åç«¯å±‚
- **API è·¯ç”±**: FastAPI è‡ªåŠ¨ç”Ÿæˆ OpenAPI æ–‡æ¡£
- **ä¸šåŠ¡é€»è¾‘**: Service å±‚å°è£…æ•°æ®åº“æ“ä½œ
- **æ•°æ®åŒæ­¥**: sync_and_aggregate.py (CSV â†’ MongoDB)
- **LLM é›†æˆ**: æ”¯æŒ OpenAIã€Anthropicã€Deepseek ç­‰

#### æ•°æ®å±‚
- **MongoDB**: ä¸»æ•°æ®å­˜å‚¨ï¼Œçµæ´»çš„æ–‡æ¡£æ¨¡å‹
- **Neo4j**: çŸ¥è¯†å›¾è°±ï¼Œææ–™-è®ºæ–‡-ä½œè€…å…³ç³»
- **PostgreSQL**: ç»“æ„åŒ–æ•°æ®ï¼Œæ”¯æŒå‘é‡æ£€ç´¢ (pgvector)

---

## æŠ€æœ¯æ ˆ

### å‰ç«¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 18.x | UI æ¡†æ¶ |
| TypeScript | 5.x | ç±»å‹å®‰å…¨ |
| Vite | 5.x | æ„å»ºå·¥å…· |
| TailwindCSS | 3.x | æ ·å¼æ¡†æ¶ |
| Zustand | 4.x | çŠ¶æ€ç®¡ç† |
| Recharts | 2.x | å›¾è¡¨å¯è§†åŒ– |

### åç«¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Python | 3.9+ | ä¸»è¯­è¨€ |
| FastAPI | 0.110+ | Web æ¡†æ¶ |
| Pydantic | 2.x | æ•°æ®éªŒè¯ |
| Motor | 3.x | MongoDB å¼‚æ­¥é©±åŠ¨ |
| Neo4j Driver | 5.x | å›¾æ•°æ®åº“ |
| SQLAlchemy | 2.x | ORM |

### æ•°æ®åº“
| æ•°æ®åº“ | ç‰ˆæœ¬ | ç”¨é€” |
|--------|------|------|
| MongoDB | 6.0 | ä¸»æ•°æ®å­˜å‚¨ |
| Neo4j | 5.15 | çŸ¥è¯†å›¾è°± |
| PostgreSQL | 15 + pgvector | å‘é‡æ£€ç´¢ |

### AI & LLM
| æœåŠ¡ | ç”¨é€” |
|------|------|
| OpenAI API | GPT-4, GPT-3.5 |
| Anthropic Claude | Claude 3.5 Sonnet |
| Deepseek | å›½å†…æ›¿ä»£æ–¹æ¡ˆ |
| MinerU OCR | PDF/å›¾ç‰‡è¯†åˆ« |

---

## æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. BioExtract-AI Agent å¯¹è¯ç³»ç»Ÿ

**è·¯å¾„**: `src/features/bioextract/`

#### åŠŸèƒ½ç‰¹æ€§
- **ReAct å¾ªç¯**: æœ€å¤š 5 è½®æ¨ç†-æ‰§è¡Œ-è§‚å¯Ÿ
- **å·¥å…·è°ƒç”¨**: 
  - `search-materials`: æœç´¢ç”Ÿç‰©ææ–™ï¼ˆæ”¯æŒ category, query, subcategoryï¼‰
  - `search-documents`: æœç´¢æ–‡çŒ®
  - `get-material-details`: è·å–ææ–™è¯¦æƒ…
  - `get-paper-content`: è·å–è®ºæ–‡å…¨æ–‡
  - `get-bioextract-stats`: æ•°æ®åº“ç»Ÿè®¡
- **æ€ç»´é“¾å±•ç¤º**: å®æ—¶æ˜¾ç¤º Agent çš„æ¨ç†è¿‡ç¨‹
- **å¤šè½®å¯¹è¯**: ä¸Šä¸‹æ–‡è®°å¿†ï¼Œæ”¯æŒè¿½é—®

#### æ ¸å¿ƒä»£ç 
```typescript
// src/features/bioextract/agent/BioExtractAgent.ts
export class BioExtractAgent {
  async execute(context: AgentContext): Promise<AgentResult> {
    // ReAct å¾ªç¯
    while (currentIteration < AGENT_CONFIG.maxIterations) {
      const llmResponse = await callLLM(this.llmConfig, messages);
      const parsed = this.parseOutput(llmResponse.content);
      
      if (parsed.toolCall) {
        // æ‰§è¡Œå·¥å…·
        const toolResult = await executeTool(tool, params);
        // å°†ç»“æœåé¦ˆç»™ LLM
        messages.push({ role: 'user', content: toolResult });
      } else if (parsed.answer) {
        // ç”Ÿæˆæœ€ç»ˆå›ç­”
        return result;
      }
    }
  }
}
```

### 2. çŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿ

**è·¯å¾„**: `src/features/knowledge/`

#### åŠŸèƒ½ç‰¹æ€§
- **æ–‡çŒ®èµ„æ–™åº“**: 17,045 ç¯‡è®ºæ–‡çš„æ£€ç´¢ä¸æµè§ˆ
- **ææ–™æ•°æ®åº“**: ç”Ÿç‰©ææ–™çš„åˆ†ç±»ã€ç­›é€‰ã€å¯¹æ¯”
- **åˆ†ç±»æ ‘**: æŒ‰æœŸåˆŠã€ææ–™ç±»å‹ã€åŠŸèƒ½åˆ†ç±»
- **è¯¦æƒ…é¡µ**: ææ–™ç»„æˆã€æ€§èƒ½å‚æ•°ã€å…³è”æ–‡çŒ®

#### æ•°æ®æ¨¡å‹
```typescript
interface Material {
  id: string;
  name: string;
  category: 'delivery_system' | 'microbe';
  subcategory: string;
  properties: Array<{ name: string; value: string }>;
  composition: {
    loading_mode?: string;
    payload_name?: string;
    material_name?: string;
  };
  applications: string[];
  paper_count: number;
  source_doc_ids: string[];
}
```

### 3. ä¸“å®¶ç³»ç»Ÿ (Expert Manager)

**è·¯å¾„**: `src/features/experts/`

#### åŠŸèƒ½ç‰¹æ€§
- **æ¨¡æ¿åº“**: é¢„è®¾ 20+ ä¸“å®¶æ¨¡æ¿ï¼ˆåˆ›é¢æŠ¤ç†ã€æ°´å‡èƒ¶è®¾è®¡ç­‰ï¼‰
- **è‡ªå®šä¹‰ä¸“å®¶**: ç”¨æˆ·å¯åˆ›å»ºä¸“å± Agent
- **æç¤ºè¯ç®¡ç†**: æ”¯æŒ localStorage è¦†ç›–ç³»ç»Ÿæç¤ºè¯
- **å¯¼å…¥/å¯¼å‡º**: JSON æ ¼å¼çš„ä¸“å®¶é…ç½®

#### æ¨¡æ¿ç¤ºä¾‹
```typescript
{
  id: 'tpl-biomaterial',
  name: 'ç”Ÿç‰©ææ–™åˆ†æå¸ˆ',
  avatar: 'ğŸ§¬',
  domain: 'ç”Ÿç‰©ææ–™',
  systemPrompt: 'ä½ æ˜¯ä¸€ä½ç”Ÿç‰©ææ–™åˆ†æä¸“å®¶...',
  tools: ['knowledge-search', 'data-analysis'],
  knowledgeBases: ['kb-biomaterials']
}
```

### 4. MCP å·¥å…·ç³»ç»Ÿ

**è·¯å¾„**: `src/features/mcp/`

#### è®¾è®¡ç†å¿µ
- **æ’ä»¶åŒ–**: å·¥å…·é€šè¿‡ MCP åè®®æ³¨å†Œ
- **é…ç½®åŒ–**: æ¯ä¸ªå·¥å…·æœ‰ç‹¬ç«‹çš„é…ç½® Schema
- **å¯æ‰©å±•**: æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å·¥å…·

#### å·¥å…·æ³¨å†Œ
```typescript
export const SYSTEM_MCP_TOOLS: MCPTool[] = [
  {
    id: 'search-materials',
    name: 'æœç´¢ç”Ÿç‰©ææ–™',
    description: 'æœç´¢ç”Ÿç‰©ææ–™æ•°æ®åº“...',
    category: 'bioextract',
    enabled: true,
    configSchema: [],
  },
  // ... æ›´å¤šå·¥å…·
];
```

### 5. æ•°æ®åŒæ­¥è„šæœ¬

**è·¯å¾„**: `backend/scripts/sync_and_aggregate.py`

#### åŠŸèƒ½
- ä» CSV æå–é€’é€ç³»ç»Ÿå’Œå¾®ç”Ÿç‰©æ•°æ®
- æŒ‰ææ–™åèšç±»ï¼ˆåŒåææ–™åˆå¹¶ paper_idsï¼‰
- å†™å…¥ MongoDB biomaterials é›†åˆ
- å†™å…¥ PostgreSQL papers å’Œ biological_materials è¡¨

#### æ‰§è¡Œ
```bash
cd /usropt2429/Bio-Agent/backend
python scripts/sync_and_aggregate.py
```

---

## æ•°æ®æ¶æ„

### MongoDB é›†åˆè®¾è®¡

#### biomaterials (æ ¸å¿ƒé›†åˆ)
```javascript
{
  _id: ObjectId,
  id: "material-hash-id",
  name: "Chitosan",
  category: "delivery_system" | "microbe",
  subcategory: "delivery" | "bacterium" | "microalgae" | ...,
  
  // èšç±»å­—æ®µ
  paper_ids: ["paper-id-1", "paper-id-2"],
  paper_titles: ["Title 1", "Title 2"],
  paper_count: 2,
  
  // ç»„æˆä¿¡æ¯
  composition: {
    loading_mode: "encapsulation",
    payload_name: "Doxorubicin",
    material_name: "PLGA"
  },
  
  // åŠŸèƒ½æ€§èƒ½
  functional_performance: {
    functionality_notes: "...",
    release_kinetics: "sustained"
  },
  
  // ç”Ÿç‰©å½±å“
  biological_impact: {
    therapeutic_effect: "anti-tumor",
    target_tissue: "liver"
  },
  
  // åŸå§‹æ•°æ® (å¾®ç”Ÿç‰©ç‰¹æœ‰)
  raw_data: {
    identity: { genus, species, strain },
    chassis_and_growth: {
      growth_conditions: {
        oxygen_notes: "é€šæ°”æ··åˆ",
        oxygen_tolerance: "aerobic",
        temp_optimum_C: 37
      }
    },
    effector_modules: { ... },
    biosafety_and_containment: { ... }
  },
  
  created_at: ISODate,
  updated_at: ISODate
}
```

#### documents (æ–‡çŒ®é›†åˆ)
```javascript
{
  _id: ObjectId,
  id: "paper-id",
  paper_id: "paper-id",
  title: "Paper Title",
  authors: "Author1; Author2",
  journal: "Nature",
  publish_year: 2024,
  source_tables: ["delivery", "microbe"],
  markdown_url: "http://...",
  has_markdown: true
}
```

#### paper_tags (è®ºæ–‡æ ‡ç­¾)
```javascript
{
  _id: ObjectId,
  paper_id: "paper-id",
  title: "Paper Title",
  classification: "biomaterials",
  l1: "drug_delivery",
  l2: "nanoparticles",
  l3: "liposomes"
}
```

### PostgreSQL è¡¨è®¾è®¡

#### papers
```sql
CREATE TABLE papers (
  paper_id VARCHAR(255) PRIMARY KEY,
  title TEXT,
  authors TEXT,
  journal VARCHAR(255),
  year INTEGER
);
```

#### biological_materials
```sql
CREATE TABLE biological_materials (
  material_name VARCHAR(512) PRIMARY KEY,
  associated_papers JSONB,
  paper_count INTEGER,
  category VARCHAR(50),
  functional_roles JSONB,
  attributes JSONB
);
```

### Neo4j å›¾è°±è®¾è®¡

#### èŠ‚ç‚¹ç±»å‹
- `Material`: ææ–™èŠ‚ç‚¹
- `Paper`: è®ºæ–‡èŠ‚ç‚¹
- `Author`: ä½œè€…èŠ‚ç‚¹

#### å…³ç³»ç±»å‹
- `MENTIONED_IN`: Material â†’ Paper
- `AUTHORED_BY`: Paper â†’ Author
- `CITES`: Paper â†’ Paper

---

## Agent æ™ºèƒ½ä½“ç³»ç»Ÿ

### ReAct æ¨¡å¼å®ç°

```
ç”¨æˆ·è¾“å…¥: "èƒ½ä¾›æ°§çš„å¾®ç”Ÿç‰©"
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Iteration 1: Reasoning (æ¨ç†)          â”‚
â”‚  <thinking>                             â”‚
â”‚    ç”¨æˆ·æƒ³æŸ¥è¯¢èƒ½äº§ç”Ÿæ°§æ°”çš„å¾®ç”Ÿç‰©ï¼Œ       â”‚
â”‚    åº”è¯¥ç”¨ search-materials å·¥å…·ï¼Œ       â”‚
â”‚    å‚æ•°: category=microbe, query=æ°§     â”‚
â”‚  </thinking>                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Iteration 1: Action (æ‰§è¡Œ)             â”‚
â”‚  <tool_call>                            â”‚
â”‚    {"tool": "search-materials",         â”‚
â”‚     "params": {"category": "microbe",   â”‚
â”‚                "query": "æ°§"}}          â”‚
â”‚  </tool_call>                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Iteration 1: Observation (è§‚å¯Ÿ)        â”‚
â”‚  [System]: Tool 'search-materials'      â”‚
â”‚  result: { materials: [37 items],       â”‚
â”‚            total: 37 }                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Iteration 2: Reasoning (æ¨ç†)          â”‚
â”‚  <thinking>                             â”‚
â”‚    è·å¾—äº† 37 æ¡å¾®ç”Ÿç‰©è®°å½•ï¼Œå¯ä»¥æ€»ç»“     â”‚
â”‚    å®ƒä»¬çš„æ°§ç›¸å…³ç‰¹æ€§å¹¶å›ç­”ç”¨æˆ·           â”‚
â”‚  </thinking>                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Iteration 2: Answer (å›ç­”)             â”‚
â”‚  <answer>                               â”‚
â”‚    æ ¹æ®æ•°æ®åº“æŸ¥è¯¢ï¼Œæ‰¾åˆ° 37 ç§ä¸æ°§ç›¸å…³   â”‚
â”‚    çš„å¾®ç”Ÿç‰©ï¼ŒåŒ…æ‹¬ï¼š                     â”‚
â”‚    1. Thalassiosira pseudonana (å¾®è—»)  â”‚
â”‚       - å…‰åˆä½œç”¨ï¼Œäº§æ°§                 â”‚
â”‚    2. Escherichia coli (å¤§è‚ æ†èŒ)      â”‚
â”‚       - å…¼æ€§åŒæ°§ï¼Œå¯åœ¨æœ‰æ°§ç¯å¢ƒç”Ÿé•¿     â”‚
â”‚    ...                                  â”‚
â”‚  </answer>                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç³»ç»Ÿæç¤ºè¯è®¾è®¡

**æ ¸å¿ƒåŸåˆ™**:
1. **å·¥å…·ä¼˜å…ˆ**: å¿…é¡»è°ƒç”¨å·¥å…·æŸ¥è¯¢ï¼Œä¸¥ç¦ç¼–é€ æ•°æ®
2. **ç»“æ„åŒ–è¾“å‡º**: ä½¿ç”¨ `<thinking>`, `<tool_call>`, `<answer>` æ ‡ç­¾
3. **ç¤ºä¾‹é©±åŠ¨**: æä¾›å¸¸è§æŸ¥è¯¢çš„ç¤ºä¾‹å‚æ•°
4. **å®¹é”™å¤„ç†**: å¦‚æœæŸ¥è¯¢æ— ç»“æœï¼Œå»ºè®®è°ƒæ•´å…³é”®è¯

**å…³é”®ç‰‡æ®µ**:
```
## å¸¸è§æŸ¥è¯¢ç¤ºä¾‹

**æŒ‰åŠŸèƒ½/ç”Ÿé•¿æ¡ä»¶æŸ¥å¾®ç”Ÿç‰©ï¼ˆå¦‚èƒ½ä¾›æ°§ã€éœ€æ°§ã€é€šæ°”ç­‰ï¼‰ï¼š**
è°ƒç”¨ search-materialsï¼Œå‚æ•° {"category": "microbe", "query": "æ°§", "limit": 10}ã€‚
ç”¨æˆ·é—®ã€Œèƒ½ä¾›æ°§çš„å¾®ç”Ÿç‰©ã€æ—¶åŠ¡å¿…ç”¨ query "æ°§" æˆ– "ä¾›æ°§" æ£€ç´¢ï¼›
æ•°æ®åº“ä¼šåŒ¹é…ç”Ÿé•¿æ¡ä»¶æè¿°ï¼ˆoxygen_notes ç­‰ï¼‰ã€‚
è‹¥ query "ä¾›æ°§" æ— ç»“æœï¼Œå¯å†è¯• query "æ°§"ã€‚
```

---

## éƒ¨ç½²æ¶æ„

### å¼€å‘ç¯å¢ƒ

```bash
# 1. å¯åŠ¨æ•°æ®åº“ (Docker)
docker-compose up -d mongo neo4j postgres

# 2. å¯åŠ¨åç«¯
cd backend
source venv/bin/activate
uvicorn app.main:app --host 0.0.0.0 --port 8001

# 3. å¯åŠ¨å‰ç«¯
npm run dev  # http://localhost:5173
```

### ç”Ÿäº§ç¯å¢ƒ

#### Docker Compose éƒ¨ç½²
```yaml
version: '3.8'
services:
  mongo:
    image: mongo:6.0
    ports: ["27017:27017"]
    volumes: ["mongo_data:/data/db"]
  
  neo4j:
    image: neo4j:5.15
    ports: ["7474:7474", "7687:7687"]
    environment:
      NEO4J_AUTH: neo4j/password
  
  postgres:
    image: ankane/pgvector:v0.5.1
    ports: ["5432:5432"]
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
  
  backend:
    build: ./backend
    ports: ["8001:8001"]
    depends_on: [mongo, neo4j, postgres]
  
  frontend:
    build: .
    ports: ["5173:5173"]
```

#### Nginx åå‘ä»£ç†
```nginx
server {
  listen 80;
  server_name bioagent.example.com;
  
  location / {
    proxy_pass http://localhost:5173;
  }
  
  location /api {
    proxy_pass http://localhost:8001;
  }
}
```

---

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°å·¥å…·

1. **æ³¨å†Œå·¥å…·** (`src/features/mcp/registry.ts`)
```typescript
{
  id: 'my-new-tool',
  name: 'æˆ‘çš„æ–°å·¥å…·',
  description: 'å·¥å…·æè¿°',
  category: 'bioextract',
  enabled: true,
  configSchema: [
    { key: 'param1', label: 'å‚æ•°1', type: 'text', required: true }
  ],
  config: { param1: 'default' }
}
```

2. **å®ç°å·¥å…·é€»è¾‘** (`src/features/mcp/registry.ts` executeTool)
```typescript
case 'my-new-tool': {
  const input = params.input as { param1: string };
  const result = await myToolFunction(input.param1);
  return { success: true, output: result };
}
```

3. **æ›´æ–°ç³»ç»Ÿæç¤ºè¯** (`src/features/experts/templates.ts`)
```typescript
**ä½¿ç”¨æˆ‘çš„æ–°å·¥å…·ï¼š**
è°ƒç”¨ my-new-toolï¼Œå‚æ•° {"param1": "value"}
```

### æ·»åŠ æ–°æ•°æ®æº

1. **å®šä¹‰ Pydantic æ¨¡å‹** (`backend/app/models/`)
2. **åˆ›å»º Service ç±»** (`backend/app/services/`)
3. **æ·»åŠ  API è·¯ç”±** (`backend/app/api/`)
4. **å‰ç«¯ API å°è£…** (`src/features/.../api/`)
5. **æ›´æ–° Agent å·¥å…·** (å¦‚ä¸Š)

### è°ƒè¯•æŠ€å·§

#### åç«¯æ—¥å¿—
```python
import logging
logging.basicConfig(level=logging.DEBUG)
```

#### å‰ç«¯ Agent æ—¥å¿—
```typescript
// bioextractStore.ts
addLogEntry('info', `>>> TOOL CALL: ${JSON.stringify(toolCall)}`);
```

#### æ•°æ®åº“æŸ¥è¯¢éªŒè¯
```bash
# MongoDB
mongosh
use biomedical
db.biomaterials.find({category: "microbe"}).limit(5)

# PostgreSQL
psql -U user -d biomedical
SELECT * FROM papers LIMIT 5;
```

---

## æœªæ¥è§„åˆ’

### çŸ­æœŸ (Q1 2026)
- [ ] **å‘é‡æ£€ç´¢å¢å¼º**: åŸºäº pgvector çš„è¯­ä¹‰æœç´¢
- [ ] **å›¾è°±å¯è§†åŒ–**: Neo4j æ•°æ®çš„å‰ç«¯å±•ç¤º
- [ ] **æ‰¹é‡å¯¼å…¥**: æ”¯æŒç”¨æˆ·ä¸Šä¼  CSV/Excel
- [ ] **API æ–‡æ¡£**: Swagger UI å®Œå–„

### ä¸­æœŸ (Q2-Q3 2026)
- [ ] **å¤šæ¨¡æ€è¾“å…¥**: æ”¯æŒå›¾ç‰‡ä¸Šä¼  + OCR è¯†åˆ«
- [ ] **å·¥ä½œæµå¼•æ“**: å¯è§†åŒ–ç¼–æ’å¤šæ­¥éª¤ä»»åŠ¡
- [ ] **åä½œåŠŸèƒ½**: å¤šç”¨æˆ·å…±äº«çŸ¥è¯†åº“
- [ ] **ç§»åŠ¨ç«¯é€‚é…**: å“åº”å¼è®¾è®¡ä¼˜åŒ–

### é•¿æœŸ (Q4 2026+)
- [ ] **ç§æœ‰åŒ–éƒ¨ç½²**: ä¼ä¸šç‰ˆæ”¯æŒ
- [ ] **Fine-tuned æ¨¡å‹**: é¢†åŸŸä¸“ç”¨ LLM
- [ ] **å®éªŒè®°å½•**: é›†æˆç”µå­å®éªŒè®°å½•æœ¬
- [ ] **ä¾›åº”é“¾å¯¹æ¥**: ææ–™é‡‡è´­æ¨è

---

## è´¡çŒ®æŒ‡å—

### ä»£ç è§„èŒƒ
- **TypeScript**: ESLint + Prettier
- **Python**: Black + Flake8
- **Commit**: éµå¾ª Conventional Commits

### æäº¤æµç¨‹
1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### æµ‹è¯•è¦æ±‚
- åç«¯: pytest è¦†ç›–ç‡ > 80%
- å‰ç«¯: Vitest å•å…ƒæµ‹è¯•
- E2E: Playwright é›†æˆæµ‹è¯•

---

## è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶

---

## è”ç³»æ–¹å¼

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/Dizzy12138/Bio-Agent
- **é—®é¢˜åé¦ˆ**: GitHub Issues
- **é‚®ç®±**: bioagent@system.local

---

**æœ€åæ›´æ–°**: 2026-01-31  
**æ–‡æ¡£ç‰ˆæœ¬**: v2.0  
**ç»´æŠ¤è€…**: BioAgent Team
